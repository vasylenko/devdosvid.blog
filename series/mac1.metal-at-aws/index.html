<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>mac1.metal at AWS | devDosvid ‚Äî my engineering experience</title><meta name=keywords content><meta name=description content="This blog shares my experience and findings related to AWS, Terraform, and all-around-devops practices."><meta name=author content="Serhii Vasylenko"><link rel=canonical href=https://devdosvid.blog/series/mac1.metal-at-aws/><link crossorigin=anonymous href=/assets/css/stylesheet.968bac09a0d78d6f1afa8b87761c075817f1853df062eff72169a22a9c04a066.css integrity="sha256-lousCaDXjW8a+ouHdhwHWBfxhT3wYu/3IWmiKpwEoGY=" rel="preload stylesheet" as=style><link rel=icon href=https://devdosvid.blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://devdosvid.blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://devdosvid.blog/favicon-32x32.png><link rel=apple-touch-icon href=https://devdosvid.blog/apple-touch-icon.png><link rel=mask-icon href=https://devdosvid.blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://devdosvid.blog/series/mac1.metal-at-aws/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><style>@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:300;src:url(/assets/fonts/AlbertSans-Light.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:300;src:url(/assets/fonts/AlbertSans-LightItalic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:400;src:url(/assets/fonts/AlbertSans-Regular.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:400;src:url(/assets/fonts/AlbertSans-Italic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:500;src:url(/assets/fonts/AlbertSans-Medium.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:500;src:url(/assets/fonts/AlbertSans-MediumItalic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:600;src:url(/assets/fonts/AlbertSans-SemiBold.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:600;src:url(/assets/fonts/AlbertSans-SemiBoldItalic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><meta name=twitter:creator content="@vasylenko"><meta name=twitter:site content="@vasylenko"><script defer type=text/javascript>window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{},n=document.createElement("script"),n.type="text/javascript",n.async=!0,n.src="https://cdn.heapanalytics.com/js/heap-"+e+".js",o=document.getElementsByTagName("script")[0],o.parentNode.insertBefore(n,o);for(var n,o,a=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},i=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],s=0;s<i.length;s++)heap[i[s]]=a(i[s])},heap.load("2300872157")</script><meta property="og:title" content="mac1.metal at AWS"><meta property="og:description" content="This blog shares my experience and findings related to AWS, Terraform, and all-around-devops practices."><meta property="og:type" content="website"><meta property="og:url" content="https://devdosvid.blog/series/mac1.metal-at-aws/"><meta property="og:image" content="https://devdosvid.blog/assets/img/websitelogo.jpg"><meta property="og:site_name" content="devDosvid ‚Äî my engineering experience"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://devdosvid.blog/assets/img/websitelogo.jpg"><meta name=twitter:title content="mac1.metal at AWS"><meta name=twitter:description content="This blog shares my experience and findings related to AWS, Terraform, and all-around-devops practices."></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://devdosvid.blog accesskey=h title="üè† Home (Alt + H)">üè† Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://devdosvid.blog/index.xml title="RSS Feed"><span>RSS Feed</span></a></li><li><a href=https://devdosvid.blog/archive title="All posts"><span>All posts</span></a></li><li><a href=https://devdosvid.blog/about/ title="About me"><span>About me</span></a></li><li><a href=https://devdosvid.blog/cv/ title="My CV"><span>My CV</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://devdosvid.blog>Home</a>&nbsp;¬ª&nbsp;<a href=https://devdosvid.blog/series/>Series</a></div><h1>mac1.metal at AWS</h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img srcset="https://devdosvid.blog/2021/10/24/auto-scaling-group-for-your-macos-ec2-instances-fleet/cover-image_hu31f1b40286643e4abda1300dd30358b3_94901_360x0_resize_box_3.png 360w ,https://devdosvid.blog/2021/10/24/auto-scaling-group-for-your-macos-ec2-instances-fleet/cover-image_hu31f1b40286643e4abda1300dd30358b3_94901_480x0_resize_box_3.png 480w ,https://devdosvid.blog/2021/10/24/auto-scaling-group-for-your-macos-ec2-instances-fleet/cover-image_hu31f1b40286643e4abda1300dd30358b3_94901_720x0_resize_box_3.png 720w ,https://devdosvid.blog/2021/10/24/auto-scaling-group-for-your-macos-ec2-instances-fleet/cover-image_hu31f1b40286643e4abda1300dd30358b3_94901_1080x0_resize_box_3.png 1080w ,https://devdosvid.blog/2021/10/24/auto-scaling-group-for-your-macos-ec2-instances-fleet/cover-image.png 1200w" sizes="(min-width: 768px) 720px, 100vw" src=https://devdosvid.blog/2021/10/24/auto-scaling-group-for-your-macos-ec2-instances-fleet/cover-image.png alt width=1200 height=600></figure><header class=entry-header><h2>Auto Scaling Group for your macOS EC2 Instances fleet</h2></header><div class=entry-content><p>Scale EC2 Mac Instances fleet with the Licence Manager and ASG services</p></div><footer class=entry-footer><span title='2021-10-24 02:00:31 +0300 +0300'>October 24, 2021</span>&nbsp;¬∑&nbsp;Serhii Vasylenko</footer><a class=entry-link aria-label="post link to Auto Scaling Group for your macOS EC2 Instances fleet" href=https://devdosvid.blog/2021/10/24/auto-scaling-group-for-your-macos-ec2-instances-fleet/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img srcset="https://devdosvid.blog/2021/05/27/run-ansible-playbook-on-mac-ec2-instances-fleet-with-aws-systems-manager/cover-image_hudec1707a089e00fa9ac5be62cf3691ae_54216_360x0_resize_box_3.png 360w ,https://devdosvid.blog/2021/05/27/run-ansible-playbook-on-mac-ec2-instances-fleet-with-aws-systems-manager/cover-image_hudec1707a089e00fa9ac5be62cf3691ae_54216_480x0_resize_box_3.png 480w ,https://devdosvid.blog/2021/05/27/run-ansible-playbook-on-mac-ec2-instances-fleet-with-aws-systems-manager/cover-image_hudec1707a089e00fa9ac5be62cf3691ae_54216_720x0_resize_box_3.png 720w ,https://devdosvid.blog/2021/05/27/run-ansible-playbook-on-mac-ec2-instances-fleet-with-aws-systems-manager/cover-image_hudec1707a089e00fa9ac5be62cf3691ae_54216_1080x0_resize_box_3.png 1080w ,https://devdosvid.blog/2021/05/27/run-ansible-playbook-on-mac-ec2-instances-fleet-with-aws-systems-manager/cover-image.png 1200w" sizes="(min-width: 768px) 720px, 100vw" src=https://devdosvid.blog/2021/05/27/run-ansible-playbook-on-mac-ec2-instances-fleet-with-aws-systems-manager/cover-image.png alt width=1200 height=600></figure><header class=entry-header><h2>Run Ansible playbook on Mac EC2 Instances fleet with AWS Systems Manager</h2></header><div class=entry-content><p>A small adjustment for big capabilities</p></div><footer class=entry-footer><span title='2021-05-27 00:00:00 +0000 UTC'>May 27, 2021</span>&nbsp;¬∑&nbsp;Serhii Vasylenko</footer><a class=entry-link aria-label="post link to Run Ansible playbook on Mac EC2 Instances fleet with AWS Systems Manager" href=https://devdosvid.blog/2021/05/27/run-ansible-playbook-on-mac-ec2-instances-fleet-with-aws-systems-manager/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img srcset="https://devdosvid.blog/2021/02/01/2021-02-01-customizing-mac1-metal-ec2-ami_huf0a2b01d06e478057f4876b34ba74b7a_66812_360x0_resize_box_3.png 360w ,https://devdosvid.blog/2021/02/01/2021-02-01-customizing-mac1-metal-ec2-ami_huf0a2b01d06e478057f4876b34ba74b7a_66812_480x0_resize_box_3.png 480w ,https://devdosvid.blog/2021/02/01/2021-02-01-customizing-mac1-metal-ec2-ami_huf0a2b01d06e478057f4876b34ba74b7a_66812_720x0_resize_box_3.png 720w ,https://devdosvid.blog/2021/02/01/2021-02-01-customizing-mac1-metal-ec2-ami.png 1000w" sizes="(min-width: 768px) 720px, 100vw" src=https://devdosvid.blog/2021/02/01/2021-02-01-customizing-mac1-metal-ec2-ami.png alt width=1000 height=500></figure><header class=entry-header><h2>Customizing mac1.metal EC2 AMI ‚Äî new guts, more glory</h2></header><div class=entry-content><p>I guess macOS was designed for a user, not for the ops or engineers, so this is why its customization and usage for CI/CD are not trivial (compared to something Linux-based). A smart guess, huh?
Configuration Management Native Apple‚Äôs Mobile device management (a.k.a MDM) and Jamf is probably the most potent combination for macOS configuration. But as much as it‚Äôs mighty, it is a cumbersome combination, and Jamf is not free....</p></div><footer class=entry-footer><span title='2021-02-01 00:00:00 +0000 UTC'>February 1, 2021</span>&nbsp;¬∑&nbsp;Serhii Vasylenko</footer><a class=entry-link aria-label="post link to Customizing mac1.metal EC2 AMI ‚Äî new guts, more glory" href=https://devdosvid.blog/2021/02/01/customizing-mac1-metal-ec2-ami.html></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img srcset="https://devdosvid.blog/2021/01/20/2021-01-20-terraforming-mac1-metal-at-AWS_hu98db5d6334a3c514db2f9164fffc7a39_25339_360x0_resize_q75_box.jpg 360w ,https://devdosvid.blog/2021/01/20/2021-01-20-terraforming-mac1-metal-at-AWS_hu98db5d6334a3c514db2f9164fffc7a39_25339_480x0_resize_q75_box.jpg 480w ,https://devdosvid.blog/2021/01/20/2021-01-20-terraforming-mac1-metal-at-AWS_hu98db5d6334a3c514db2f9164fffc7a39_25339_720x0_resize_q75_box.jpg 720w ,https://devdosvid.blog/2021/01/20/2021-01-20-terraforming-mac1-metal-at-AWS.jpg 1000w" sizes="(min-width: 768px) 720px, 100vw" src=https://devdosvid.blog/2021/01/20/2021-01-20-terraforming-mac1-metal-at-AWS.jpg alt width=1000 height=500></figure><header class=entry-header><h2>Terraforming mac1.metal at AWS</h2></header><div class=entry-content><p>Updated on the 23rd of October, 2021: Terraform AWS provider now supports Dedicated Hosts natively In November 2021, AWS announced the support for Mac mini instances.
I believe this is huge, even despite the number of constraints this solution has. This offering opens the door to seamless macOS CI/CD integration into existing AWS infrastructure.
So here is a quick-start example of creating the dedicated host and the instance altogether using Terraform....</p></div><footer class=entry-footer><span title='2021-01-20 00:00:00 +0000 UTC'>January 20, 2021</span>&nbsp;¬∑&nbsp;Serhii Vasylenko</footer><a class=entry-link aria-label="post link to Terraforming mac1.metal at AWS" href=https://devdosvid.blog/2021/01/20/terraforming-mac1-metal-at-AWS.html></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img srcset="https://devdosvid.blog/2021/01/19/2021-01-19-mac1-metal-EC2-Instance-user-experience_hu845a664d1b5fb67be87eba39be6c2f34_20656_360x0_resize_q75_box.jpg 360w ,https://devdosvid.blog/2021/01/19/2021-01-19-mac1-metal-EC2-Instance-user-experience_hu845a664d1b5fb67be87eba39be6c2f34_20656_480x0_resize_q75_box.jpg 480w ,https://devdosvid.blog/2021/01/19/2021-01-19-mac1-metal-EC2-Instance-user-experience_hu845a664d1b5fb67be87eba39be6c2f34_20656_720x0_resize_q75_box.jpg 720w ,https://devdosvid.blog/2021/01/19/2021-01-19-mac1-metal-EC2-Instance-user-experience.jpg 1000w" sizes="(min-width: 768px) 720px, 100vw" src=https://devdosvid.blog/2021/01/19/2021-01-19-mac1-metal-EC2-Instance-user-experience.jpg alt width=1000 height=500></figure><header class=entry-header><h2>mac1.metal and mac2.metal EC2 Instances ‚Äî user experience</h2></header><div class=entry-content><p>Apple macOS development ecosystem with the power of AWS Cloud</p></div><footer class=entry-footer><span title='2021-01-19 00:00:00 +0000 UTC'>January 19, 2021</span>&nbsp;¬∑&nbsp;Serhii Vasylenko</footer><a class=entry-link aria-label="post link to mac1.metal and mac2.metal EC2 Instances ‚Äî user experience" href=https://devdosvid.blog/2021/01/19/mac1-metal-EC2-Instance-user-experience.html></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://devdosvid.blog>devDosvid ‚Äî my engineering experience</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>