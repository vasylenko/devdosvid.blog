<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Serhii Vasylenko ‚Äî Technical Blog</title><meta name=keywords content="Technical Blog,DevOps,AWS,Terraform,Ukraine,Tutorials,Education,DeveloperExperience"><meta name=description content="Developer Experience Engineer at Grammarly and AWS Community Builder. The blog is about AWS, Terraform, and different DevOps stuff."><meta name=author content="Serhii Vasylenko"><link rel=canonical href=https://serhii.vasylenko.info/><link crossorigin=anonymous href=/assets/css/stylesheet.min.3991ac750b919e314d7c7853049aee0441380302a0ed934dc9ff9b3d0f3f456c.css integrity="sha256-OZGsdQuRnjFNfHhTBJruBEE4AwKg7ZNNyf+bPQ8/RWw=" rel="preload stylesheet" as=style><link rel=preload href=/apple-touch-icon.png as=image><link rel=icon href=https://serhii.vasylenko.info/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://serhii.vasylenko.info/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://serhii.vasylenko.info/favicon-32x32.png><link rel=apple-touch-icon href=https://serhii.vasylenko.info/apple-touch-icon.png><link rel=mask-icon href=https://serhii.vasylenko.info/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.91.2"><link rel=alternate type=application/json href=https://serhii.vasylenko.info/index.json><link rel=alternate type=application/rss+xml href=https://serhii.vasylenko.info/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-GK7SE0XWGK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-GK7SE0XWGK',{anonymize_ip:!1})}</script><meta property="og:title" content="Serhii Vasylenko ‚Äî Technical Blog"><meta property="og:description" content="Developer Experience Engineer at Grammarly and AWS Community Builder. The blog is about AWS, Terraform, and different DevOps stuff."><meta property="og:type" content="website"><meta property="og:url" content="https://serhii.vasylenko.info/"><meta property="og:image" content="https://serhii.vasylenko.info/assets/img/website-logo.png"><meta property="og:site_name" content="Serhii Vasylenko ‚Äî Technical Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://serhii.vasylenko.info/assets/img/website-logo.png"><meta name=twitter:title content="Serhii Vasylenko ‚Äî Technical Blog"><meta name=twitter:description content="Developer Experience Engineer at Grammarly and AWS Community Builder. The blog is about AWS, Terraform, and different DevOps stuff."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Person","name":"Serhii Vasylenko ‚Äî Technical Blog","url":"https://serhii.vasylenko.info","description":"Developer Experience Engineer at Grammarly and AWS Community Builder. The blog is about AWS, Terraform, and different DevOps stuff.","thumbnailUrl":"https://serhii.vasylenko.info/favicon.ico","sameAs":[]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://serhii.vasylenko.info accesskey=h title="Home (Alt + H)"><img src=https://serhii.vasylenko.info/apple-touch-icon.png alt=logo aria-label=logo height=" 30px">Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://serhii.vasylenko.info/index.xml title="RSS Feed üì∞"><span>RSS Feed üì∞</span></a></li><li><a href=https://serhii.vasylenko.info/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://serhii.vasylenko.info/about/ title="About me"><span>About me</span></a></li><li><a href=https://serhii.vasylenko.info/cv/ title="My CV"><span>My CV</span></a></li></ul></nav></header><main class=main><article class=post-entry><figure class=entry-cover><img loading=lazy srcset="https://serhii.vasylenko.info/2021/05/27/cover_image_hu889afd1219d3acc709d75a263bc3d19f_20618_360x0_resize_box_3.png 360w ,https://serhii.vasylenko.info/2021/05/27/cover_image_hu889afd1219d3acc709d75a263bc3d19f_20618_480x0_resize_box_3.png 480w ,https://serhii.vasylenko.info/2021/05/27/cover_image_hu889afd1219d3acc709d75a263bc3d19f_20618_720x0_resize_box_3.png 720w ,https://serhii.vasylenko.info/2021/05/27/cover_image.png 1000w" sizes="(min-width: 768px) 720px, 100vw" src=https://serhii.vasylenko.info/2021/05/27/cover_image.png alt width=1000 height=500></figure><header class=entry-header><h2>Run Ansible playbook on mac1.metal instances fleet with AWS Systems Manager</h2></header><section class=entry-content><p>In days of containers and serverless applications, Ansible looks not such a trendy thing.
But still, there are cases when it helps, and there are cases when it combines very well with brand new product offerings, such as EC2 Mac instances.
The more I use mac1.metal in AWS, the more I see that Ansible becomes a bedrock of software customization in my case.
And when you have a large instances fleet, the AWS Systems Manager becomes your best friend (the sooner you get along together, the better)....</p></section><footer class=entry-footer><span title="2021-05-27 00:00:00 +0000 UTC">May 27, 2021</span>&nbsp;¬∑&nbsp;Serhii Vasylenko</footer><a class=entry-link aria-label="post link to Run Ansible playbook on mac1.metal instances fleet with AWS Systems Manager" href=https://serhii.vasylenko.info/2021/05/27/run-ansible-playbook-mac1-metal-aws-systems-manager.html></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy srcset="https://serhii.vasylenko.info/2021/05/21/cover_image_huec4f50f1b9984451ab0954ada4ebfa16_20137_360x0_resize_box_3.png 360w ,https://serhii.vasylenko.info/2021/05/21/cover_image_huec4f50f1b9984451ab0954ada4ebfa16_20137_480x0_resize_box_3.png 480w ,https://serhii.vasylenko.info/2021/05/21/cover_image_huec4f50f1b9984451ab0954ada4ebfa16_20137_720x0_resize_box_3.png 720w ,https://serhii.vasylenko.info/2021/05/21/cover_image.png 1000w" sizes="(min-width: 768px) 720px, 100vw" src=https://serhii.vasylenko.info/2021/05/21/cover_image.png alt width=1000 height=420></figure><header class=entry-header><h2>Configure HTTP Security headers with CloudFront Functions</h2></header><section class=entry-content><p>In November 2021, AWS has added this functionality as a native CloudFront feature.
I suggest switching to the native implementation. I have described how to configure Security Response Headers for CloudFront in the following article:
Apply Cloudfront Security Headers With Terraform
A couple of weeks ago, AWS released CloudFront Functions ‚Äî a ‚Äútrue edge‚Äù compute capability for the CloudFront.
It is ‚Äútrue edge‚Äù because Functions work on 200+ edge locations (link to doc) while its predecessor, the Lambda@Edge, runs on a small number of regional edge caches....</p></section><footer class=entry-footer><span title="2021-05-21 00:00:00 +0000 UTC">May 21, 2021</span>&nbsp;¬∑&nbsp;Serhii Vasylenko</footer><a class=entry-link aria-label="post link to Configure HTTP Security headers with CloudFront Functions" href=https://serhii.vasylenko.info/2021/05/21/configure-http-security-headers-with-cloudfront-functions.html></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy srcset="https://serhii.vasylenko.info/2021/02/14/cover-image_hu83ca7ff0edab51664a5590af9322fbd5_47352_360x0_resize_box_3.png 360w ,https://serhii.vasylenko.info/2021/02/14/cover-image_hu83ca7ff0edab51664a5590af9322fbd5_47352_480x0_resize_box_3.png 480w ,https://serhii.vasylenko.info/2021/02/14/cover-image_hu83ca7ff0edab51664a5590af9322fbd5_47352_720x0_resize_box_3.png 720w ,https://serhii.vasylenko.info/2021/02/14/cover-image.png 800w" sizes="(min-width: 768px) 720px, 100vw" src=https://serhii.vasylenko.info/2021/02/14/cover-image.png alt width=800 height=400></figure><header class=entry-header><h2>Using TinyPNG Image Compression From MacOS Finder Contextual Menu</h2></header><section class=entry-content><p>I just wanted to compress one image, but went to far‚Ä¶
or ‚ÄúHow to add TinyPNG image compression to your macOS Finder contextual menu.‚Äù
What is it and how it works You select needed files or folders, then right-click on them, click on the Services menu item and choose TinyPNG.
After a moment, the new optimized versions of images will appear near to original files.
If you selected a folder along with the files, the script would process all png and jpeg files in it....</p></section><footer class=entry-footer><span title="2021-02-14 00:00:00 +0000 UTC">February 14, 2021</span>&nbsp;¬∑&nbsp;Serhii Vasylenko</footer><a class=entry-link aria-label="post link to Using TinyPNG Image Compression From MacOS Finder Contextual Menu" href=https://serhii.vasylenko.info/2021/02/14/image-compression-with-tinypng-from-macos-contextual-menu.html></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy srcset="https://serhii.vasylenko.info/2021/02/01/2021-02-01-customizing-mac1-metal-ec2-ami_huf0a2b01d06e478057f4876b34ba74b7a_66812_360x0_resize_box_3.png 360w ,https://serhii.vasylenko.info/2021/02/01/2021-02-01-customizing-mac1-metal-ec2-ami_huf0a2b01d06e478057f4876b34ba74b7a_66812_480x0_resize_box_3.png 480w ,https://serhii.vasylenko.info/2021/02/01/2021-02-01-customizing-mac1-metal-ec2-ami_huf0a2b01d06e478057f4876b34ba74b7a_66812_720x0_resize_box_3.png 720w ,https://serhii.vasylenko.info/2021/02/01/2021-02-01-customizing-mac1-metal-ec2-ami.png 1000w" sizes="(min-width: 768px) 720px, 100vw" src=https://serhii.vasylenko.info/2021/02/01/2021-02-01-customizing-mac1-metal-ec2-ami.png alt width=1000 height=500></figure><header class=entry-header><h2>Customizing mac1.metal EC2 AMI ‚Äî new guts, more glory</h2></header><section class=entry-content><p>I guess macOS was designed for a user, not for the ops or engineers, so this is why its customization and usage for CI/CD are not trivial (compared to something Linux-based). A smart guess, huh?
Configuration Management Native Apple‚Äôs Mobile device management (a.k.a MDM) and Jamf is probably the most potent combination for macOS configuration. But as much as it‚Äôs mighty, it is a cumbersome combination, and Jamf is not free....</p></section><footer class=entry-footer><span title="2021-02-01 00:00:00 +0000 UTC">February 1, 2021</span>&nbsp;¬∑&nbsp;Serhii Vasylenko</footer><a class=entry-link aria-label="post link to Customizing mac1.metal EC2 AMI ‚Äî new guts, more glory" href=https://serhii.vasylenko.info/2021/02/01/customizing-mac1-metal-ec2-ami.html></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy srcset="https://serhii.vasylenko.info/2021/01/20/2021-01-20-terraforming-mac1-metal-at-AWS_hu98db5d6334a3c514db2f9164fffc7a39_25339_360x0_resize_q75_box.jpg 360w ,https://serhii.vasylenko.info/2021/01/20/2021-01-20-terraforming-mac1-metal-at-AWS_hu98db5d6334a3c514db2f9164fffc7a39_25339_480x0_resize_q75_box.jpg 480w ,https://serhii.vasylenko.info/2021/01/20/2021-01-20-terraforming-mac1-metal-at-AWS_hu98db5d6334a3c514db2f9164fffc7a39_25339_720x0_resize_q75_box.jpg 720w ,https://serhii.vasylenko.info/2021/01/20/2021-01-20-terraforming-mac1-metal-at-AWS.jpg 1000w" sizes="(min-width: 768px) 720px, 100vw" src=https://serhii.vasylenko.info/2021/01/20/2021-01-20-terraforming-mac1-metal-at-AWS.jpg alt width=1000 height=500></figure><header class=entry-header><h2>Terraforming mac1.metal at AWS</h2></header><section class=entry-content><p>Updated on the 23rd of October, 2021: Terraform AWS provider now supports Dedicated Hosts natively In November 2021, AWS announced the support for Mac mini instances.
I believe this is huge, even despite the number of constraints this solution has. This offering opens the door to seamless macOS CI/CD integration into existing AWS infrastructure.
So here is a quick-start example of creating the dedicated host and the instance altogether using Terraform....</p></section><footer class=entry-footer><span title="2021-01-20 00:00:00 +0000 UTC">January 20, 2021</span>&nbsp;¬∑&nbsp;Serhii Vasylenko</footer><a class=entry-link aria-label="post link to Terraforming mac1.metal at AWS" href=https://serhii.vasylenko.info/2021/01/20/terraforming-mac1-metal-at-AWS.html></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://serhii.vasylenko.info/>¬´ Prev Page</a>
<a class=next href=https://serhii.vasylenko.info/page/3/>Next Page ¬ª</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://serhii.vasylenko.info>Serhii Vasylenko ‚Äî Technical Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>