<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Five Practical Ways To Get The Verified EC2 AMI | devDosvid blog</title>
<meta name=keywords content="ami,ec2 ami,official ami,verified ami,aws ssm,aws cli,terraform,ami catalog,shared amis"><meta name=description content="How to find the AMI you cat trust among thousands available in AWS"><meta name=author content="Serhii Vasylenko"><link rel=canonical href=https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/><link crossorigin=anonymous href=/assets/css/stylesheet.ba94429dbafaa5c3e3b459e8111262e3d3fe6b2bbfa4ef5aa8bd651c9ef9fd19.css integrity="sha256-upRCnbr6pcPjtFnoERJi49P+ayu/pO9aqL1lHJ75/Rk=" rel="preload stylesheet" as=style><link rel=icon href=https://devdosvid.blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://devdosvid.blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://devdosvid.blog/favicon-32x32.png><link rel=apple-touch-icon href=https://devdosvid.blog/apple-touch-icon.png><link rel=mask-icon href=https://devdosvid.blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><style>@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:300;src:url(/assets/fonts/AlbertSans-Light.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:300;src:url(/assets/fonts/AlbertSans-LightItalic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:400;src:url(/assets/fonts/AlbertSans-Regular.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:400;src:url(/assets/fonts/AlbertSans-Italic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:500;src:url(/assets/fonts/AlbertSans-Medium.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:500;src:url(/assets/fonts/AlbertSans-MediumItalic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:600;src:url(/assets/fonts/AlbertSans-SemiBold.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:600;src:url(/assets/fonts/AlbertSans-SemiBoldItalic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><meta name=twitter:creator content="@vasylenko"><meta name=twitter:site content="@vasylenko"><script async src=https://scripts.simpleanalyticscdn.com/latest.js></script><meta property="og:url" content="https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/"><meta property="og:site_name" content="devDosvid blog"><meta property="og:title" content="Five Practical Ways To Get The Verified EC2 AMI"><meta property="og:description" content="How to find the AMI you cat trust among thousands available in AWS"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-24T15:21:05+02:00"><meta property="article:modified_time" content="2025-04-02T02:14:19+02:00"><meta property="og:image" content="https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/cover-image.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/cover-image.png"><meta name=twitter:title content="Five Practical Ways To Get The Verified EC2 AMI"><meta name=twitter:description content="How to find the AMI you cat trust among thousands available in AWS"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://devdosvid.blog/posts/"},{"@type":"ListItem","position":2,"name":"Five Practical Ways To Get The Verified EC2 AMI","item":"https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Five Practical Ways To Get The Verified EC2 AMI","name":"Five Practical Ways To Get The Verified EC2 AMI","description":"How to find the AMI you cat trust among thousands available in AWS","keywords":["ami","ec2 ami","official ami","verified ami","aws ssm","aws cli","terraform","ami catalog","shared amis"],"articleBody":"EC2 AMI catalog consists of more than 160k public AMIs ‚Äî a mix of shared AMIs created by users, published by vendors, and provided by AWS.\nSo how to ensure that an AMI comes from the verified vendor or that is an official AMI published by AWS?\nHow to find the trusted AMI among them all when you‚Äôre about to launch an EC2 Instance?\nFind the Waldo verified AMI owner On AWS, it‚Äôs typical that something can be made or done in several ways ‚Äî that‚Äôs awesome. Some of them work better than others, some methods are official, and some you can use just for fun (check that).\nIn this article, I will describe five ways of getting the official and verified AMI for your next EC2 Instance launch.\nUse EC2 Launch Wizard and AMI Catalog to get the official AMI When launching an EC2 Instance from a Management Console, you can apply the ‚ÄúVerified Provider‚Äù filter for the Community AMIs tab to ensure you get an AMI from a verified provider. The ‚ÄúVerified provider‚Äù label means an AMI is owned by an Amazon verified account.\nIn the following example, I want to make sure that the Ubuntu 20.04 AMI comes from the verified source:\nVerified AMI in the AMI Catalog In the past, you had to compare the AMI Owner ID with the publicly shared list of verified Owner IDs for every region. Not rocket science, but it takes time. So now it‚Äôs much more straightforward, thanks to the ‚ÄúVerified Provider‚Äù label.\nThis feature also works great when you are creating a Launch Template. The Launch Template creation wizard seamlessly guides you from itself to the AMI Catalog (where you can search and pick the AMI) and back again.\nLook for verified AMIs on the AMI page Another interface in the Management Console acts as the AMI browser. It does not have any fancy name except for the ‚ÄúAMIs page‚Äù, but you probably already know about it: it looks like a list of AMIs, and you can see it when you click on the ‚ÄúAMIs‚Äù menu item on the left side of the EC2 page menu.\nThe AMI page allows you to leverage the API filters to narrow down the search, and the ‚ÄúOwner alias‚Äù filter is the one you need to ensure that an AMI comes from a trusted owner.\nHere is how it looks for my search of the official Amazon Linux 2 AMI:\nOfficial Amazon Linux 2 AMI AMIs shared by verified sources have amazon (for AWS) or aws-marketplace (for AWS partners) as the value for the Owner alias filter.\nFind the EC2 AMI with Terraform Finding the official AMI with Terraform is also simple ‚Äî the aws_ami data source does the job.\nFor example, here is how you can find the same Amazon Linux 2 AMI by specifying the amazon as the value for the owner argument of the data source:\nFinding the official Amazon Linux 2 AMI with Terraform Compare that with the filters on the AMI page ‚Äî it looks similar, right? This is because of how Terraform works: it translates your code into API calls and sends them to AWS API endpoints.\nIf you‚Äôre very new to Terraform, I suggest reading this article to understand the basic concepts of Terraform and Infrastructure as Code: Terraform explained in English\nFind the official AWS AMI using Describe Images CLI Sometimes you might need to get the AMI from CLI to pass it along as an argument downstream of the pipeline.\nThis can be done with the ec2 describe-images command of the AWS CLI Find the verified AMI with AWS CLI The API filters I mentioned before also work here ‚Äî use them to narrow your search.\nFind the trusted AWS AMI with SSM Another way that involves AWS CLI is the ssm get-parameter command: Get the latest EKS optimized AMI from SSM It reveals one helpful feature of the Systems Manager ‚Äî the Public parameters.\nSystems Manager Public parameters are how AWS distributes some widely used artifacts related to their services.\nFor example, you can find official AMIs for many distributives there: Amazon Linux, Windows, macOS, Bottlerocket, Ubuntu, Debian, and FreeBSD.\nRead more at the Finding public parameters documentation page if you want to know more.\nAre all verified AMIs good? The ‚ÄúVerified provider‚Äù badge can be earned by a third party only when an AMI developer is registered as a Seller on the AWS Marketplace.\nBecoming a Seller there is not trivial and requires some conditions to be met, and the registration process itself also implies submitting the tax and banking information.\nAdditionally, there are specific policies and review processes apply to all AMIs submitted to the Marketplace.\nSo it is okay to trust the third-party vendors with the ‚ÄúVerified‚Äù badge on a certain level. However, it is also always good to have additional scans and validation of the software you use. ü™≤ üòâ\n","wordCount":"821","inLanguage":"en","image":"https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/cover-image.png","datePublished":"2022-07-24T15:21:05+02:00","dateModified":"2025-04-02T02:14:19+02:00","author":{"@type":"Person","name":"Serhii Vasylenko"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/"},"publisher":{"@type":"Person","name":"devDosvid blog","logo":{"@type":"ImageObject","url":"https://devdosvid.blog/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://devdosvid.blog/ accesskey=h title="üè† Home (Alt + H)">üè† Home</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://devdosvid.blog/index.xml title="RSS Feed"><span>RSS Feed</span></a></li><li><a href=https://devdosvid.blog/archive title="All posts"><span>All posts</span></a></li><li><a href=https://devdosvid.blog/about/ title="About me"><span>About me</span></a></li><li><a href=https://devdosvid.blog/series title="Post Series"><span>Post Series</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://devdosvid.blog/>Home</a>&nbsp;¬ª&nbsp;<a href=https://devdosvid.blog/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Five Practical Ways To Get The Verified EC2 AMI</h1><div class=post-description>How to find the AMI you cat trust among thousands available in AWS</div><div class=post-meta><span title='2022-07-24 15:21:05 +0200 +0200'>July 24, 2022</span>&nbsp;¬∑&nbsp;Serhii Vasylenko&nbsp;|&nbsp;<a href=mailto:contact@devdosvid.blog rel="noopener noreferrer" target=_blank>Contact me</a></div></header><figure class=entry-cover><img srcset="https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/cover-image_hu_ab6d503062bc65a4.png 360w ,https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/cover-image_hu_67ab665212eb7d2c.png 480w ,https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/cover-image_hu_c89365c696077d2b.png 720w ,https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/cover-image_hu_739582a245f7ca1d.png 1080w ,https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/cover-image.png 1200w" sizes="(min-width: 768px) 720px, 100vw" src=https://devdosvid.blog/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/cover-image.png alt="How to find the AMI you cat trust among thousands available in AWS" width=1200 height=630></figure><div class=post-content><p>EC2 AMI catalog consists of more than 160k public AMIs ‚Äî a mix of shared AMIs created by users, published by vendors, and provided by AWS.</p><p>So how to ensure that an AMI comes from the verified vendor or that is an official AMI published by AWS?</p><p>How to find the trusted AMI among them all when you&rsquo;re about to launch an EC2 Instance?</p><figure><img loading=lazy src=/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/who-is-ami-owner_hu_dc5ad19a324177d8.webp alt="Find the Waldo verified AMI owner" width=800 height=400.00><figcaption><p>Find the <del>Waldo</del> verified AMI owner</p></figcaption></figure><p>On AWS, it&rsquo;s typical that something can be made or done in several ways ‚Äî that&rsquo;s awesome. Some of them work better than others, some methods are official, and some you can use just for fun (<a href=https://www.lastweekinaws.com/blog/the-17-ways-to-run-containers-on-aws/>check</a> <a href=https://www.lastweekinaws.com/blog/17-more-ways-to-run-containers-on-aws/>that</a>).</p><p>In this article, I will describe five ways of getting the official and verified AMI for your next EC2 Instance launch.</p><h2 id=use-ec2-launch-wizard-and-ami-catalog-to-get-the-official-ami>Use EC2 Launch Wizard and AMI Catalog to get the official AMI<a hidden class=anchor aria-hidden=true href=#use-ec2-launch-wizard-and-ami-catalog-to-get-the-official-ami>#</a></h2><p>When launching an EC2 Instance from a Management Console, you can apply the &ldquo;Verified Provider&rdquo; filter for the Community AMIs tab to ensure you get an AMI from a verified provider. The &ldquo;Verified provider&rdquo; label means an AMI is owned by an Amazon verified account.</p><p>In the following example, I want to make sure that the Ubuntu 20.04 AMI comes from the verified source:</p><figure><img loading=lazy src=/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/verified-ami-in-ami-catalog_hu_64e5f9af9a1aedbe.webp alt="Verified AMI in the AMI Catalog" width=800 height=413.65><figcaption><p>Verified AMI in the AMI Catalog</p></figcaption></figure><p>In the past, you had to compare the AMI Owner ID with the publicly shared list of verified Owner IDs for every region. Not rocket science, but it takes time. So now it&rsquo;s much more straightforward, thanks to the &ldquo;Verified Provider&rdquo; label.</p><p>This feature also works great when you are creating a Launch Template. The Launch Template creation wizard seamlessly guides you from itself to the AMI Catalog (where you can search and pick the AMI) and back again.</p><h2 id=look-for-verified-amis-on-the-ami-page>Look for verified AMIs on the AMI page<a hidden class=anchor aria-hidden=true href=#look-for-verified-amis-on-the-ami-page>#</a></h2><p>Another interface in the Management Console acts as the AMI browser. It does not have any fancy name except for the &ldquo;AMIs page&rdquo;, but you probably already know about it: it looks like a list of AMIs, and you can see it when you click on the &ldquo;AMIs&rdquo; menu item on the left side of the EC2 page menu.</p><p>The AMI page allows you to leverage the API filters to narrow down the search, and the &ldquo;Owner alias&rdquo; filter is the one you need to ensure that an AMI comes from a trusted owner.</p><p>Here is how it looks for my search of the official Amazon Linux 2 AMI:</p><figure><img loading=lazy src=/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/verified-amazon-linux-2-ami-in-ami-browser-ec2-console_hu_54f45a0d3c1b79b6.webp alt="Official Amazon Linux 2 AMI" width=800 height=400.00><figcaption><p>Official Amazon Linux 2 AMI</p></figcaption></figure><p>AMIs shared by verified sources have <code>amazon</code> (for AWS) or <code>aws-marketplace</code> (for AWS partners) as the value for the Owner alias filter.</p><h2 id=find-the-ec2-ami-with-terraform>Find the EC2 AMI with Terraform<a hidden class=anchor aria-hidden=true href=#find-the-ec2-ami-with-terraform>#</a></h2><p>Finding the official AMI with Terraform is also simple ‚Äî the <a href=https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/ami>aws_ami data source</a> does the job.</p><p>For example, here is how you can find the same Amazon Linux 2 AMI by specifying the <code>amazon</code> as the value for the <code>owner</code> argument of the data source:</p><figure><img loading=lazy src=/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/verified-official-amazon-linux-2-ami-terraform-datasource_hu_6774d3b845821711.webp alt="Finding the official Amazon Linux 2 AMI with Terraform" width=800 height=580.24><figcaption><p>Finding the official Amazon Linux 2 AMI with Terraform</p></figcaption></figure><p>Compare that with the filters on the AMI page ‚Äî it looks similar, right? This is because of how Terraform works: it translates your code into API calls and sends them to AWS API endpoints.</p><p>If you&rsquo;re very new to Terraform, I suggest reading this article to understand the basic concepts of Terraform and Infrastructure as Code: <a href=https://devdosvid.blog/2020/05/02/terraform-explained-in-english/>Terraform explained in English</a></p><h2 id=find-the-official-aws-ami-using-describe-images-cli>Find the official AWS AMI using Describe Images CLI<a hidden class=anchor aria-hidden=true href=#find-the-official-aws-ami-using-describe-images-cli>#</a></h2><p>Sometimes you might need to get the AMI from CLI to pass it along as an argument downstream of the pipeline.</p><p>This can be done with the <strong>ec2 describe-images</strong> command of the AWS CLI<figure><img loading=lazy src=/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/verified-official-amazon-linux-2-ami-in-aws-cli_hu_6401c7369239a157.webp alt="Find the verified AMI with AWS CLI" width=800 height=486.75><figcaption><p>Find the verified AMI with AWS CLI</p></figcaption></figure></p><p>The API filters I mentioned before also work here ‚Äî use them to narrow your search.</p><h2 id=find-the-trusted-aws-ami-with-ssm>Find the trusted AWS AMI with SSM<a hidden class=anchor aria-hidden=true href=#find-the-trusted-aws-ami-with-ssm>#</a></h2><p>Another way that involves AWS CLI is the <strong>ssm get-parameter</strong> command:<figure><img loading=lazy src=/2022/07/24/five-practical-ways-to-get-the-verified-ec2-ami/verified-official-amazon-eks-optimized-ami-aws-cli_hu_813043eab0171df6.webp alt="Get the latest EKS optimized AMI from SSM" width=800 height=213.69><figcaption><p>Get the latest EKS optimized AMI from SSM</p></figcaption></figure></p><p>It reveals one helpful feature of the Systems Manager ‚Äî the Public parameters.</p><p>Systems Manager Public parameters are how AWS distributes some widely used artifacts related to their services.</p><p>For example, you can find official AMIs for many distributives there: Amazon Linux, Windows, macOS, Bottlerocket, Ubuntu, Debian, and FreeBSD.</p><p>Read more at the <a href=https://docs.aws.amazon.com/systems-manager/latest/userguide/parameter-store-finding-public-parameters.html>Finding public parameters</a> documentation page if you want to know more.</p><h2 id=are-all-verified-amis-good>Are all verified AMIs good?<a hidden class=anchor aria-hidden=true href=#are-all-verified-amis-good>#</a></h2><p>The &ldquo;Verified provider&rdquo; badge can be earned by a third party only when an AMI developer is registered as a Seller on the AWS Marketplace.</p><p>Becoming a Seller there is not trivial and requires some <a href=https://docs.aws.amazon.com/marketplace/latest/userguide/user-guide-for-sellers.html#seller-requirements-for-publishing-free-products>conditions</a> to be met, and the <a href=https://docs.aws.amazon.com/marketplace/latest/userguide/seller-registration-process.html>registration process</a> itself also implies submitting the tax and banking information.</p><p>Additionally, there are <a href=https://docs.aws.amazon.com/marketplace/latest/userguide/product-and-ami-policies.html>specific policies and review processes</a> apply to all AMIs submitted to the Marketplace.</p><p>So it is okay to trust the third-party vendors with the &ldquo;Verified&rdquo; badge on a certain level. However, it is also always good to have additional scans and validation of the software you use. ü™≤ üòâ</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://devdosvid.blog/2023/04/16/hello-terraform-data-goodbye-null-resource/><span class=title>¬´ Prev</span><br><span>Hello Terraform Data; Goodbye Null Resource</span>
</a><a class=next href=https://devdosvid.blog/2022/06/26/golden-image-pipelines-with-hcp-packer/><span class=title>Next ¬ª</span><br><span>Golden Image Pipelines With HCP Packer</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=vasylenko/devdosvid.blog data-repo-id="MDEwOlJlcG9zaXRvcnkyNDUyNTMxODE=" data-category=General data-category-id=DIC_kwDODp5EPc4CA59c data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=en data-theme=light crossorigin=anonymous async></script></article></main><footer class=footer><div style=width:10em;margin:auto><p style=background-color:#0082ca;color:#fff>From Ukrainian</p><p style=background-color:#ffb548;color:#fff>with love ‚ù§Ô∏è</p></div><span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>