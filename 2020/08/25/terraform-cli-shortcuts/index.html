<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Terraform CLI shortcuts | devDosvid blog</title>
<meta name=keywords content="terraform,cli,automation,terraform productivity"><meta name=description content="A bunch of small tools I use to simplify Terraform workflow"><meta name=author content="Serhii Vasylenko"><link rel=canonical href=https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/><link crossorigin=anonymous href=/assets/css/stylesheet.51adfef0209146fea88d574556a024fb0fe75550725c247200ff67f0bd77de4a.css integrity="sha256-Ua3+8CCRRv6ojVdFVqAk+w/nVVByXCRyAP9n8L133ko=" rel="preload stylesheet" as=style><link rel=icon href=https://devdosvid.blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://devdosvid.blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://devdosvid.blog/favicon-32x32.png><link rel=apple-touch-icon href=https://devdosvid.blog/apple-touch-icon.png><link rel=mask-icon href=https://devdosvid.blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><style>@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:300;src:url(/assets/fonts/AlbertSans-Light.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:300;src:url(/assets/fonts/AlbertSans-LightItalic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:400;src:url(/assets/fonts/AlbertSans-Regular.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:400;src:url(/assets/fonts/AlbertSans-Italic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:500;src:url(/assets/fonts/AlbertSans-Medium.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:500;src:url(/assets/fonts/AlbertSans-MediumItalic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:normal;font-display:swap;font-weight:600;src:url(/assets/fonts/AlbertSans-SemiBold.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:albert sans;font-style:italic;font-display:swap;font-weight:600;src:url(/assets/fonts/AlbertSans-SemiBoldItalic.woff2)format('woff');unicode-range:U+??,U+131,U+152-153,U+2BB-2BC,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><meta name=twitter:creator content="@vasylenko"><meta name=twitter:site content="@vasylenko"><script defer type=text/javascript>window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{},n=document.createElement("script"),n.type="text/javascript",n.async=!0,n.src="https://cdn.heapanalytics.com/js/heap-"+e+".js",o=document.getElementsByTagName("script")[0],o.parentNode.insertBefore(n,o);for(var n,o,a=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},i=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],s=0;s<i.length;s++)heap[i[s]]=a(i[s])},heap.load("2300872157")</script><meta property="og:title" content="Terraform CLI shortcuts"><meta property="og:description" content="A bunch of small tools I use to simplify Terraform workflow"><meta property="og:type" content="article"><meta property="og:url" content="https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/"><meta property="og:image" content="https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/cover-image.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-08-25T00:00:00+00:00"><meta property="article:modified_time" content="2024-04-11T22:29:25+02:00"><meta property="og:site_name" content="devDosvid blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/cover-image.jpg"><meta name=twitter:title content="Terraform CLI shortcuts"><meta name=twitter:description content="A bunch of small tools I use to simplify Terraform workflow"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://devdosvid.blog/posts/"},{"@type":"ListItem","position":2,"name":"Terraform CLI shortcuts","item":"https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Terraform CLI shortcuts","name":"Terraform CLI shortcuts","description":"A bunch of small tools I use to simplify Terraform workflow","keywords":["terraform","cli","automation","terraform productivity"],"articleBody":"Here is some CLI shortcuts I use day-to-day to simplify and speed-up my Terraform workflow. Requirements ‚Äî bash-compatible interpreter, because aliases and functions described below will work with bash, zsh and ohmyzsh.\nIn order to use any of described aliases of functions, you need to place it in your ~/.bashrc or ~/.zshrc file (or any other configuration file you have for your shell).\nThen just source this file, for example: source ~/.zshrc\nFunction: list outputs and variables of given module You need to provide the path to module directory, and this function will list all declared variables and outputs module has. It comes very useful when you don‚Äôt remember them all and just need to take a quick look.\n## TerraForm MOdule Explained function tfmoe { echo -e \"\\nOutputs:\" grep -r \"output \\\".*\\\"\" $1 |awk '{print \"\\t\",$2}' |tr -d '\"' echo -e \"\\nVariables:\" grep -r \"variable \\\".*\\\"\" $1 |awk '{print \"\\t\",$2}' |tr -d '\"' } Example usage:\nuser@localhost $: tfmoe ./module_alb Outputs: alb_arn Variables: acm_certificate_arn lb_name alb_sg_list subnets_id_list tags Function: pre-fill module directory with configuration files You need to provide a path to the module directory and this function will create a bunch of empty ‚Äòdefault‚Äô .tf files in it.\n#TerraForm MOdule Initialize function tfmoi { touch $1/variables.tf touch $1/outputs.tf touch $1/versions.tf touch $1/main.tf } Example usage:\nuser@localhost $: mkdir ./module_foo \u0026\u0026 temoi $_ user@localhost $: ls ./module_foo main.tf outputs.tf variables.tf versions.tf Aliases The purpose of these aliases is just to keep you from typing long commands when you want to do a simple action.\nalias tf='terraform' alias tfv='terraform validate' alias tfi='terraform init' alias tfp='terraform plan' This one is useful because it makes format tool to go in-depth (recursively) through directories.\nalias tfm='terraform fmt -recursive' Example usage:\nuser@localhost $: tfm module_ecs_cluster/ecs.tf module_alb/alb.tf ","wordCount":"292","inLanguage":"en","image":"https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/cover-image.jpg","datePublished":"2020-08-25T00:00:00Z","dateModified":"2024-04-11T22:29:25+02:00","author":{"@type":"Person","name":"Serhii Vasylenko"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/"},"publisher":{"@type":"Person","name":"devDosvid blog","logo":{"@type":"ImageObject","url":"https://devdosvid.blog/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://devdosvid.blog/ accesskey=h title="üè† Home (Alt + H)">üè† Home</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://devdosvid.blog/index.xml title="RSS Feed"><span>RSS Feed</span></a></li><li><a href=https://devdosvid.blog/archive title="All posts"><span>All posts</span></a></li><li><a href=https://devdosvid.blog/about/ title="About me"><span>About me</span></a></li><li><a href=https://devdosvid.blog/series title="Post Series"><span>Post Series</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://devdosvid.blog/>Home</a>&nbsp;¬ª&nbsp;<a href=https://devdosvid.blog/posts/>Posts</a></div><h1 class=post-title>Terraform CLI shortcuts</h1><div class=post-description>A bunch of small tools I use to simplify Terraform workflow</div><div class=post-meta><span title='2020-08-25 00:00:00 +0000 UTC'>August 25, 2020</span>&nbsp;¬∑&nbsp;Serhii Vasylenko&nbsp;|&nbsp;<a href=mailto:contact@devdosvid.blog rel="noopener noreferrer" target=_blank>Contact me</a></div></header><figure class=entry-cover><img srcset="https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/cover-image_hu7f41736126439631fd99dbfe23b4950f_95018_360x0_resize_q70_box.jpg 360w ,https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/cover-image_hu7f41736126439631fd99dbfe23b4950f_95018_480x0_resize_q70_box.jpg 480w ,https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/cover-image_hu7f41736126439631fd99dbfe23b4950f_95018_720x0_resize_q70_box.jpg 720w ,https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/cover-image_hu7f41736126439631fd99dbfe23b4950f_95018_1080x0_resize_q70_box.jpg 1080w ,https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/cover-image.jpg 1280w" sizes="(min-width: 768px) 720px, 100vw" src=https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/cover-image.jpg alt width=1280 height=670></figure><div class=post-content><p>Here is some CLI shortcuts I use day-to-day to simplify and speed-up my Terraform workflow.
Requirements &mdash; bash-compatible interpreter, because aliases and functions described below will work with bash, zsh and ohmyzsh.</p><p>In order to use any of described aliases of functions, you need to place it in your <code>~/.bashrc</code> or <code>~/.zshrc</code> file (or any other configuration file you have for your shell).</p><p>Then just source this file, for example: <code>source ~/.zshrc</code></p><h2 id=function-list-outputs-and-variables-of-given-module>Function: list outputs and variables of given module<a hidden class=anchor aria-hidden=true href=#function-list-outputs-and-variables-of-given-module>#</a></h2><p>You need to provide the path to module directory, and this function will list all declared variables and outputs module has. It comes very useful when you don&rsquo;t remember them all and just need to take a quick look.</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic>## TerraForm MOdule Explained</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>function</span> tfmoe <span style=color:#ff7b72;font-weight:700>{</span>
</span></span><span style=display:flex><span>  echo -e <span style=color:#a5d6ff>&#34;\nOutputs:&#34;</span>
</span></span><span style=display:flex><span>  grep -r <span style=color:#a5d6ff>&#34;output \&#34;.*\&#34;&#34;</span> <span style=color:#79c0ff>$1</span> |awk <span style=color:#a5d6ff>&#39;{print &#34;\t&#34;,$2}&#39;</span> |tr -d <span style=color:#a5d6ff>&#39;&#34;&#39;</span>
</span></span><span style=display:flex><span>  echo -e <span style=color:#a5d6ff>&#34;\nVariables:&#34;</span>
</span></span><span style=display:flex><span>  grep -r <span style=color:#a5d6ff>&#34;variable \&#34;.*\&#34;&#34;</span> <span style=color:#79c0ff>$1</span> |awk <span style=color:#a5d6ff>&#39;{print &#34;\t&#34;,$2}&#39;</span> |tr -d <span style=color:#a5d6ff>&#39;&#34;&#39;</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72;font-weight:700>}</span></span></span></code></pre></div><p>Example usage:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>user@localhost $: tfmoe ./module_alb

Outputs:
	 alb_arn

Variables:
	 acm_certificate_arn
	 lb_name
	 alb_sg_list
	 subnets_id_list
	 tags
</code></pre><h2 id=function-pre-fill-module-directory-with-configuration-files>Function: pre-fill module directory with configuration files<a hidden class=anchor aria-hidden=true href=#function-pre-fill-module-directory-with-configuration-files>#</a></h2><p>You need to provide a path to the module directory and this function will create a bunch of empty &lsquo;default&rsquo; .tf files in it.</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#8b949e;font-style:italic>#TerraForm MOdule Initialize</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>function</span> tfmoi <span style=color:#ff7b72;font-weight:700>{</span>
</span></span><span style=display:flex><span>  touch <span style=color:#79c0ff>$1</span>/variables.tf
</span></span><span style=display:flex><span>  touch <span style=color:#79c0ff>$1</span>/outputs.tf
</span></span><span style=display:flex><span>  touch <span style=color:#79c0ff>$1</span>/versions.tf
</span></span><span style=display:flex><span>  touch <span style=color:#79c0ff>$1</span>/main.tf
</span></span><span style=display:flex><span><span style=color:#ff7b72;font-weight:700>}</span>
</span></span></code></pre></div><p>Example usage:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>user@localhost $: mkdir ./module_foo &amp;&amp; temoi $_

user@localhost $: ls ./module_foo
main.tf      outputs.tf   variables.tf versions.tf
</code></pre><h2 id=aliases>Aliases<a hidden class=anchor aria-hidden=true href=#aliases>#</a></h2><p>The purpose of these aliases is just to keep you from typing long commands when you want to do a simple action.</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>alias <span style=color:#79c0ff>tf</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;terraform&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>alias <span style=color:#79c0ff>tfv</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;terraform validate&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>alias <span style=color:#79c0ff>tfi</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;terraform init&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>alias <span style=color:#79c0ff>tfp</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;terraform plan&#39;</span> 
</span></span></code></pre></div><p>This one is useful because it makes format tool to go in-depth (recursively) through directories.</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>alias <span style=color:#79c0ff>tfm</span><span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#39;terraform fmt -recursive&#39;</span>
</span></span></code></pre></div><p>Example usage:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>user@localhost $: tfm 
module_ecs_cluster/ecs.tf
module_alb/alb.tf
</code></pre></div><footer class=post-footer><div class=substack-embedded-container><h3>Subscribe to blog updates!</h3><iframe title=Substack class=substack-embedded-iframe src=https://devdosvid.substack.com/embed height=250 loading=lazy></iframe></div><script src=https://giscus.app/client.js data-repo=vasylenko/devdosvid.blog data-repo-id="MDEwOlJlcG9zaXRvcnkyNDUyNTMxODE=" data-category=General data-category-id=DIC_kwDODp5EPc4CA59c data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=en data-theme=purge crossorigin=anonymous async></script><div class=post-series><p>Check out other posts of the <b>"Terraform Proficiency"</b> series:</p><ul></ul></div><ul class=post-tags></ul><div class=license><p>This work is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-nd/4.0/>Creative Commons Attribution-NoDerivatives 4.0 International License</a></p></div><nav class=paginav><a class=prev href=https://devdosvid.blog/2020/09/09/what-are-terraform-modules-and-how-do-they-work/><span class=title>¬´ Prev</span><br><span>What are Terraform Modules and how do they work?</span>
</a><a class=next href=https://devdosvid.blog/2020/08/06/manage-ansible-playbook-secrets-with-aws-services/><span class=title>Next ¬ª</span><br><span>Manage Ansible playbook secrets with AWS services</span></a></nav></footer></article></main><footer class=footer><div style=width:10em;margin:auto><p style=background-color:#0082ca;color:#fff>From Ukrainian</p><p style=background-color:#ffb548;color:#fff>with love ‚ù§Ô∏è</p></div><span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>