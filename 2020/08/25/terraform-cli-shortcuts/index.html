<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Terraform CLI shortcuts | devDosvid ‚Äî technical blog about my cloud engineering experience</title><meta name=keywords content="terraform,cli,automation"><meta name=description content="A bunch of small tools I use to simplify Terraform workflow"><meta name=author content="Serhii Vasylenko"><link rel=canonical href=https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/><link crossorigin=anonymous href=/assets/css/stylesheet.min.9da7bb9786f7a214c9af6a267b749501326492297eefc2c460f2b4da3e4c4c7b.css integrity="sha256-nae7l4b3ohTJr2ome3SVATJkkil+78LEYPK02j5MTHs=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://devdosvid.blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://devdosvid.blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://devdosvid.blog/favicon-32x32.png><link rel=apple-touch-icon href=https://devdosvid.blog/apple-touch-icon.png><link rel=mask-icon href=https://devdosvid.blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=text/javascript>window.heap=window.heap||[],heap.load=function(i,o){window.heap.appid=i,window.heap.config=o=o||{},e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="https://cdn.heapanalytics.com/js/heap-"+i+".js",n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(e,n);for(var e,n,a=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},s=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],t=0;t<s.length;t++)heap[s[t]]=a(s[t])},heap.load("2300872157")</script><meta property="og:title" content="Terraform CLI shortcuts"><meta property="og:description" content="A bunch of small tools I use to simplify Terraform workflow"><meta property="og:type" content="article"><meta property="og:url" content="https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/"><meta property="og:image" content="https://devdosvid.blog/2020-08-25-terraform-cli-shortcuts.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-08-25T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-26T02:33:15+02:00"><meta property="og:site_name" content="devDosvid ‚Äî technical blog about my cloud engineering experience"><meta property="og:see_also" content="https://devdosvid.blog/2022/05/04/new-lifecycle-options-and-refactoring-capabilities-in-terraform-1-1-and-1-2/"><meta property="og:see_also" content="https://devdosvid.blog/2022/01/16/some-techniques-to-enhance-your-terraform-proficiency/"><meta property="og:see_also" content="https://devdosvid.blog/2021/11/24/guide-to-using-terraform-in-ci/cd/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://devdosvid.blog/2020-08-25-terraform-cli-shortcuts.jpg"><meta name=twitter:title content="Terraform CLI shortcuts"><meta name=twitter:description content="A bunch of small tools I use to simplify Terraform workflow"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://devdosvid.blog/posts/"},{"@type":"ListItem","position":3,"name":"Terraform CLI shortcuts","item":"https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Terraform CLI shortcuts","name":"Terraform CLI shortcuts","description":"A bunch of small tools I use to simplify Terraform workflow","keywords":["terraform","cli","automation"],"articleBody":"Here is some CLI shortcuts I use day-to-day to simplify and speed-up my Terraform workflow. Requirements ‚Äî bash-compatible interpreter, because aliases and functions described below will work with bash, zsh and ohmyzsh.\nIn order to use any of described aliases of functions, you need to place it in your ~/.bashrc or ~/.zshrc file (or any other configuration file you have for your shell).\nThen just source this file, for example: source ~/.zshrc\nFunction: list outputs and variables of given module You need to provide the path to module directory, and this function will list all declared variables and outputs module has. It comes very useful when you don‚Äôt remember them all and just need to take a quick look.\n## TerraForm MOdule Explained function tfmoe {  echo -e \"\\nOutputs:\"  grep -r \"output \\\".*\\\"\" $1 |awk '{print \"\\t\",$2}' |tr -d '\"'  echo -e \"\\nVariables:\"  grep -r \"variable \\\".*\\\"\" $1 |awk '{print \"\\t\",$2}' |tr -d '\"' } Example usage:\nuser@localhost $: tfmoe ./module_alb Outputs: alb_arn Variables: acm_certificate_arn lb_name alb_sg_list subnets_id_list tags Function: pre-fill module directory with configuration files You need to provide a path to the module directory and this function will create a bunch of empty ‚Äòdefault‚Äô .tf files in it.\n#TerraForm MOdule Initialize function tfmoi {  touch $1/variables.tf  touch $1/outputs.tf  touch $1/versions.tf  touch $1/main.tf } Example usage:\nuser@localhost $: mkdir ./module_foo \u0026\u0026 temoi $_ user@localhost $: ls ./module_foo main.tf outputs.tf variables.tf versions.tf Aliases The purpose of these aliases is just to keep you from typing long commands when you want to do a simple action.\nalias tf='terraform'  alias tfv='terraform validate'  alias tfi='terraform init'  alias tfp='terraform plan' This one is useful because it makes format tool to go in-depth (recursively) through directories.\nalias tfm='terraform fmt -recursive' Example usage:\nuser@localhost $: tfm module_ecs_cluster/ecs.tf module_alb/alb.tf ","wordCount":"292","inLanguage":"en","image":"https://devdosvid.blog/2020-08-25-terraform-cli-shortcuts.jpg","datePublished":"2020-08-25T00:00:00Z","dateModified":"2022-04-26T02:33:15+02:00","author":{"@type":"Person","name":"Serhii Vasylenko"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/"},"publisher":{"@type":"Person","name":"devDosvid ‚Äî technical blog about my cloud engineering experience","logo":{"@type":"ImageObject","url":"https://devdosvid.blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://devdosvid.blog accesskey=h title="üè† Home (Alt + H)">üè† Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://devdosvid.blog/index.xml title="RSS Feed"><span>RSS Feed</span></a></li><li><a href=https://devdosvid.blog/archive title="All posts"><span>All posts</span></a></li><li><a href=https://devdosvid.blog/about/ title="About me"><span>About me</span></a></li><li><a href=https://devdosvid.blog/cv/ title="My CV"><span>My CV</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://devdosvid.blog>Home</a>&nbsp;¬ª&nbsp;<a href=https://devdosvid.blog/posts/>Posts</a></div><h1 class=post-title>Terraform CLI shortcuts</h1><div class=post-description>A bunch of small tools I use to simplify Terraform workflow</div><div class=post-meta><span title="2020-08-25 00:00:00 +0000 UTC">August 25, 2020</span>&nbsp;¬∑&nbsp;2 min&nbsp;¬∑&nbsp;292 words&nbsp;¬∑&nbsp;Serhii Vasylenko&nbsp;|&nbsp;<a href=mailto:contact@devdosvid.blog rel="noopener noreferrer" target=_blank>üì© Suggest Changes</a></div></header><figure class=entry-cover><img loading=lazy srcset="https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/2020-08-25-terraform-cli-shortcuts_hu35794ecd023b9d2787a376e1c246f384_144141_360x0_resize_q75_box.jpg 360w ,https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/2020-08-25-terraform-cli-shortcuts_hu35794ecd023b9d2787a376e1c246f384_144141_480x0_resize_q75_box.jpg 480w ,https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/2020-08-25-terraform-cli-shortcuts_hu35794ecd023b9d2787a376e1c246f384_144141_720x0_resize_q75_box.jpg 720w ,https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/2020-08-25-terraform-cli-shortcuts_hu35794ecd023b9d2787a376e1c246f384_144141_1080x0_resize_q75_box.jpg 1080w ,https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/2020-08-25-terraform-cli-shortcuts.jpg 1280w" sizes="(min-width: 768px) 720px, 100vw" src=https://devdosvid.blog/2020/08/25/terraform-cli-shortcuts/2020-08-25-terraform-cli-shortcuts.jpg alt width=1280 height=670></figure><div class=post-content><p>Here is some CLI shortcuts I use day-to-day to simplify and speed-up my Terraform workflow.
Requirements &mdash; bash-compatible interpreter, because aliases and functions described below will work with bash, zsh and ohmyzsh.</p><p>In order to use any of described aliases of functions, you need to place it in your <code>~/.bashrc</code> or <code>~/.zshrc</code> file (or any other configuration file you have for your shell).</p><p>Then just source this file, for example: <code>source ~/.zshrc</code></p><h2 id=function-list-outputs-and-variables-of-given-module>Function: list outputs and variables of given module<a hidden class=anchor aria-hidden=true href=#function-list-outputs-and-variables-of-given-module>#</a></h2><p>You need to provide the path to module directory, and this function will list all declared variables and outputs module has. It comes very useful when you don&rsquo;t remember them all and just need to take a quick look.</p><div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#999;font-style:italic>## TerraForm MOdule Explained</span>
</span></span><span style=display:flex><span><span style=color:#6ab825;font-weight:700>function</span> tfmoe {
</span></span><span style=display:flex><span>  <span style=color:#24909d>echo</span> -e <span style=color:#ed9d13>&#34;\nOutputs:&#34;</span>
</span></span><span style=display:flex><span>  grep -r <span style=color:#ed9d13>&#34;output \&#34;.*\&#34;&#34;</span> <span style=color:#40ffff>$1</span> |awk <span style=color:#ed9d13>&#39;{print &#34;\t&#34;,$2}&#39;</span> |tr -d <span style=color:#ed9d13>&#39;&#34;&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#24909d>echo</span> -e <span style=color:#ed9d13>&#34;\nVariables:&#34;</span>
</span></span><span style=display:flex><span>  grep -r <span style=color:#ed9d13>&#34;variable \&#34;.*\&#34;&#34;</span> <span style=color:#40ffff>$1</span> |awk <span style=color:#ed9d13>&#39;{print &#34;\t&#34;,$2}&#39;</span> |tr -d <span style=color:#ed9d13>&#39;&#34;&#39;</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>Example usage:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>user@localhost $: tfmoe ./module_alb

Outputs:
	 alb_arn

Variables:
	 acm_certificate_arn
	 lb_name
	 alb_sg_list
	 subnets_id_list
	 tags
</code></pre><h2 id=function-pre-fill-module-directory-with-configuration-files>Function: pre-fill module directory with configuration files<a hidden class=anchor aria-hidden=true href=#function-pre-fill-module-directory-with-configuration-files>#</a></h2><p>You need to provide a path to the module directory and this function will create a bunch of empty &lsquo;default&rsquo; .tf files in it.</p><div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#999;font-style:italic>#TerraForm MOdule Initialize</span>
</span></span><span style=display:flex><span><span style=color:#6ab825;font-weight:700>function</span> tfmoi {
</span></span><span style=display:flex><span>  touch <span style=color:#40ffff>$1</span>/variables.tf
</span></span><span style=display:flex><span>  touch <span style=color:#40ffff>$1</span>/outputs.tf
</span></span><span style=display:flex><span>  touch <span style=color:#40ffff>$1</span>/versions.tf
</span></span><span style=display:flex><span>  touch <span style=color:#40ffff>$1</span>/main.tf
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Example usage:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>user@localhost $: mkdir ./module_foo &amp;&amp; temoi $_

user@localhost $: ls ./module_foo
main.tf      outputs.tf   variables.tf versions.tf
</code></pre><h2 id=aliases>Aliases<a hidden class=anchor aria-hidden=true href=#aliases>#</a></h2><p>The purpose of these aliases is just to keep you from typing long commands when you want to do a simple action.</p><div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#24909d>alias</span> <span style=color:#40ffff>tf</span>=<span style=color:#ed9d13>&#39;terraform&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#24909d>alias</span> <span style=color:#40ffff>tfv</span>=<span style=color:#ed9d13>&#39;terraform validate&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#24909d>alias</span> <span style=color:#40ffff>tfi</span>=<span style=color:#ed9d13>&#39;terraform init&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#24909d>alias</span> <span style=color:#40ffff>tfp</span>=<span style=color:#ed9d13>&#39;terraform plan&#39;</span> 
</span></span></code></pre></div><p>This one is useful because it makes format tool to go in-depth (recursively) through directories.</p><div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#24909d>alias</span> <span style=color:#40ffff>tfm</span>=<span style=color:#ed9d13>&#39;terraform fmt -recursive&#39;</span>
</span></span></code></pre></div><p>Example usage:</p><pre tabindex=0><code class=language-terminal data-lang=terminal>user@localhost $: tfm 
module_ecs_cluster/ecs.tf
module_alb/alb.tf
</code></pre></div><footer class=post-footer><div class=post-series><p>Check out other posts of the <b>"Terraform Proficiency"</b> series:</p><ul><li>May 04, 2022 ‚Äî <a href="https://devdosvid.blog/2022/05/04/new-lifecycle-options-and-refactoring-capabilities-in-terraform-1-1-and-1-2/?utm_blogseries=terraform-proficiency">New Lifecycle Options and Refactoring Capabilities in Terraform 1.1 and 1.2</a></li><li>Jan 16, 2022 ‚Äî <a href="https://devdosvid.blog/2022/01/16/some-techniques-to-enhance-your-terraform-proficiency/?utm_blogseries=terraform-proficiency">Some Techniques to Enhance Your Terraform Proficiency</a></li><li>Nov 24, 2021 ‚Äî <a href="https://devdosvid.blog/2021/11/24/guide-to-using-terraform-in-ci/cd/?utm_blogseries=terraform-proficiency">Guide to Using Terraform in CI/CD</a></li><li style=opacity:.75>Aug 25, 2020 ‚Äî Terraform CLI shortcuts</li></ul></div><ul class=post-tags></ul><div class=license><p>This work is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-nd/4.0/>Creative Commons Attribution-NoDerivatives 4.0 International License</a></p></div><div id=mc_embed_signup><form action="https://blog.us14.list-manage.com/subscribe/post?u=3ed96dff62b34472abaed6122&id=5fd01eb424" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate><div id=mc_embed_signup_scroll><h3>Subscribe for the blog updates!</h3><h4>No spam. I promise.</h4><div class=mc-field-group><input type=email placeholder="Enter your email here" name=EMAIL class="required email" id=mce-EMAIL></div><div hidden><input type=hidden name=tags value=7268620></div><div id=mce-responses class="clear foot"><div class=response id=mce-error-response style=display:none></div><div class=response id=mce-success-response style=display:none></div></div><div style=position:absolute;left:-5000px aria-hidden=true><input type=text name=b_3ed96dff62b34472abaed6122_5fd01eb424 tabindex=-1></div><div class=optionalParent><div class="clear foot"><input type=submit value=Subscribe name=subscribe id=mc-embedded-subscribe class=button></div></div></div></form></div><script type=text/javascript src=//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js></script><script type=text/javascript>(function(){window.fnames=new Array,window.ftypes=new Array,fnames[0]="EMAIL",ftypes[0]="email",fnames[1]="FNAME",ftypes[1]="text",fnames[2]="LNAME",ftypes[2]="text",fnames[3]="ADDRESS",ftypes[3]="address",fnames[4]="PHONE",ftypes[4]="phone",fnames[5]="BIRTHDAY",ftypes[5]="birthday"})(jQuery);var $mcj=jQuery.noConflict(!0)</script><nav class=paginav><a class=prev href=https://devdosvid.blog/2020/09/09/terraform-modules-explained.html><span class=title>¬´ Prev Page</span><br><span>What are Terraform Modules and how do they work?</span></a>
<a class=next href=https://devdosvid.blog/2020/08/06/manage-ansible-playbook-secrets-with-aws-services/><span class=title>Next Page ¬ª</span><br><span>Manage Ansible playbook secrets with AWS services</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://devdosvid.blog>devDosvid ‚Äî technical blog about my cloud engineering experience</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>